# 智慧交通大模型数据需求文档

## 路口场景：

### 左侧数据：
这个组件包括以下几个部分：
车道流量线状图：显示每小时的直行和左转车辆流量。目前数据是随机生成的。
交通监控饼状图：包括路口评级、排队长度、停车次数、平均延误等信息。目前数值是通过一个计数器组件模拟生成的。
拥堵指数和过车流量滑动条：目前为固定值，用于模拟拥堵程度和过车总量

#### A. 基于进口方向的车道流量数据
- **数据类型**：每个进口方向（东、西、南、北）的每小时车辆流量数据（0-24点），包括直行和左转。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "east": {
      "straight": [30, 45, 60, ...], // 东进口直行流量数据
      "leftTurn": [25, 35, 55, ...]  // 东进口左转流量数据
    },
    "west": {
      "straight": [20, 40, 50, ...], // 西进口直行流量数据
      "leftTurn": [15, 25, 45, ...]  // 西进口左转流量数据
    },
    // 同理，还有南进口和北进口的数据
  }
  ```
- **更新频率**：实时或定时更新。

#### B. 交通监控饼状图
- **数据类型**：路口评级、排队长度（米）、停车次数、平均延误（秒）。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "rating": "C",       // 路口评级
    "queueLength": 20.7, // 排队长度（米）
    "parkingCount": 15,  // 停车次数
    "averageDelay": 23.5 // 平均延误（秒）
  }
  ```
- **更新频率**：实时或定时更新。

#### C. 拥堵指数和机动车过车流量滑动条
- **数据类型**：拥堵指数（1-10）、机动车过车总量。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "congestionIndex": 7,  // 拥堵指数
    "totalTraffic": 1635   // 机动车过车总量
  }
  ```
- **数据来源**：实时交通数据。


### 右侧数据：
这个组件包括以下几个关键部分：
信号灯组运行状态：显示不同方向（北、南、西、东）的信号灯状态和倒计时。
信号灯优化控制：包括手动调优和自动调优选项，以及控制不同方向信号灯时间的滑动条。
行人过街设置优化：展示行人过街的相关指标和评价，以及综合评分。
优化方案展示：通过视频或图片展示不同的交通优化方案。

#### A. 信号灯组运行状态
- **数据类型**：每个方向的信号灯状态（红灯/绿灯）及倒计时。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "north": {
      "left": { "isGreen": false, "time": 25 },
      "forward": { "isGreen": true, "time": 25 }
    },
    // 同理，还有南、西、东方向的数据
  }
  ```
- **更新频率**：实时更新。

#### B. 信号灯优化控制
- **数据类型**：四个方向信号灯的优化时间设置，（自动调优算法）。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "eastWestStraight": 20,
    "eastWestLeftTurn": 15,
    "northSouthStraight": 25,
    "northSouthLeftTurn": 20
  }
  ```
- **数据来源**：根据优化算法。

#### C. 行人过街设置优化
- **数据类型**：行人过街的各项指标和综合评分。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "pedestrianCrossingMetrics": [
    {"name": "二次过街","index": "否"},
    { "name": "人机冲突指数","index": "52"},
    {"name": "人非冲突指数","index": "54"},
    {"name": "人均延误","index": "65s"},
    {"name": "服务水平","index": "C"},
    {"name": "等待空间","index": "B"},
    {"name": "过街空间","index": "1"}
    ],
    "overallScore": 71
  }
  ```
- **更新频率**：根据数据变化或定时更新。

#### D. 优化方案展示
- **数据类型**：优化方案的视觉展示(视频流或图片)。
- **数据格式**：视频链接或图片URL。
- **数据来源**：优化算法生成或预设方案。

## 路况概览
针对您提供的“路口概览场景下左侧展示”的组件代码，我将继续为这部分内容撰写需求文档。这个组件主要展示了路口运行信息，包括今日公交客流量、公共自行车使用量和停车总量等数据。

### 需求文档

#### A. 路口运行信息展示
这个组件主要展示了路口运行信息，包括今日公交客流量、公共自行车使用量和停车总量等数据

- **数据类型**：包括路口运行信息、今日公交客流量、今日公共自行车使用量和今日停车总量（数字和单位）。
- **数据格式**：JSON格式，例如：
  ```json
  [
    {
      "title": "路口运行信息",
      "number": 23.5,
      "unit": "万辆"
    },
    {
      "title": "今日公交客流量",
      "number": 23.5,
      "unit": "万人次"
    },
    {
      "title": "今日公共自行车使用量",
      "number": 23.5,
      "unit": "万次"
    },
    {
      "title": "今日停车总量",
      "number": 23,
      "unit": "万车次"
    }
  ]
  ```
- **更新频率**：可能为实时更新或每日一次更新。

#### B. 违法事件统计展示
这个组件展示了智能感知事件的统计数据，包括事件的总数、上一周期的事件数、环比变化，以及各类事件（已处理、处理中、未处理）的数量和占比。

- **数据类型**：包括智能感知事件总数、上一周期事件数、环比变化，以及各类事件的详细数据。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "totalEvents": 233,
    "lastPeriod": 183,
    "eventDetails": [
      {"name": "已处理", "value": 200},
      {"name": "处理中", "value": 80},
      {"name": "未处理", "value": 40}
    ]
  }
  ```
- **更新频率**：根据数据更新机制，实时更新或周期性更新。
针对您提供的“平均延误”组件代码，我将为这部分内容撰写需求文档。这个组件展示了在不同时间段的平均延误情况，当前使用的是随机生成的数据。


#### C. 平均延误数据展示
这个组件展示了在不同时间段的平均延误情况，当前使用的是随机生成的数据。

- **数据类型**：特定时间段内的平均延误时间。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "currentDelay": [5, 10, 15, 20, 25, 30], // 今天每个时间段的平均延误时间
    "predictedDelay": [10, 15, 20, 25, 30, 35] // 明天每个时间段的预测平均延误时间
  }
  ```
- **数据范围**：0 - 24点，每4小时。


#### D. 交通数据概览
这个组件展示了交通数据的概览信息，包括交通拥堵指数、拥堵里程、拥堵路段总数以及平均拥堵时长等数据。

- **数据类型**：包括交通拥堵指数、拥堵里程、拥堵路段总数、平均拥堵时长。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "congestionIndex": 4.3,  // 交通拥堵指数
    "congestionDistance": 1.1,  // 拥堵里程，单位：Km
    "totalCongestedSections": 19,  // 拥堵路段总数，单位：个
    "averageCongestionDuration": 25  // 平均拥堵时长，单位：分钟
  }
  ```
- **更新频率**：根据数据更新机制，实时更新或周期性更新。

#### E. 智能感知事件高发类型TOP5
这个组件展示了智能感知事件的高发类型TOP5，包括各类型事件的名称和数量。

- **数据类型**：包括违法事件的类型和发生次数，例如未礼让行人、违法停车等。
- **数据格式**：JSON格式，例如：
  ```json
  [
    { "name": "未礼让行人", "value": 95 },
    { "name": "违法停车", "value": 80 },
    { "name": "违法占道", "value": 40 },
    { "name": "闯红灯", "value": 30 },
    { "name": "违法超车", "value": 20 }
  ]
  ```

#### F. 交通运行指数展示
这个组件使用仪表盘展示交通运行指数，其中包括交通拥堵指数的数值和相应的状态（如“严重拥堵”、“轻微拥堵”、“畅通”）。

- **数据类型**：交通拥堵指数的数值及其对应的状态。
- **数据格式**：JSON格式，例如：
  ```json
  {
    "congestionIndex": 4.3,  // 交通拥堵指数的数值
    "congestionStatus": "轻微拥堵"  // 对应的状态
  }
  ```
- **更新频率**：实时更新或周期性更新。

#### G. 辖区拥堵排名展示
这个组件展示了辖区内街道的拥堵排名，包括街道名称和当前的拥堵状态。

- **数据类型**：包括街道名称和当前的拥堵状态。
- **数据格式**：JSON格式，例如：
  ```json
  [
    { "name": "枫林三路", "status": "严重拥堵" },
    { "name": "咸嘉湖路", "status": "中度拥堵" },
    { "name": "桐梓坡路", "status": "轻度拥堵" },
    { "name": "玉兰路", "status": "正常" },
    { "name": "枫林二路", "status": "畅通" },
    { "name": "岳麓大道", "status": "畅通" }
    // 其他街道
  ]
  ```
- **更新频率**：实时更新或周期性更新。
